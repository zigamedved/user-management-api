# User management API

This is a simple user and group management REST API service. It provides list, add, modify and remove endpoints for both users and groups. 

Technologies used:
- GO
- MongoDB
- Docker
- OpenAPI

## Schema design
Written in DBML https://dbdiagram.io/d

```
Table user {
  id integer [primary key]
  email varchar
  password varchar
  name varchar
  group_id integer
  created_at timestamp
  updated_at timestamp
}

Table group {
  id integer [primary key]
  name varchar
  created_at timestamp
  updated_at timestamp
}

Ref: user.group_id > group.id // many users to one group
```

## Overview
Server boilerplate was generated by the [openapi-generator]
(https://openapi-generator.tech) project.
By using the [OpenAPI-Spec](https://github.com/OAI/OpenAPI-Specification) from a remote server, you can easily generate a server stub.

Command that generated the server boilerplate code:
```
openapi-generator generate -i openapi.yaml -g go-gin-server -o server
```

To see how to make this your own, look here:

[README](https://openapi-generator.tech)

- API version: 1.0.0
- Build date: 2024-02-02T10:54:01.141457+01:00[Europe/Ljubljana]

### Running the project

To run project just run:
```
 docker-compose up --build
```

To stop the container press ctrl+c in the terminal or run:
```
 docker-compose down
```

### Example

- url: ```http://localhost:8080/groups```
- method `POST`
- body: `{"name": "First group"}`

- example response: `{"_id": "65bfb8e5a79b4a7c68e83ab8"}`

### Known Issue

Endpoints sharing a common path may result in issues. For example, `/v2/pet/findByTags` and `/v2/pet/:petId` will result in an issue with the Gin framework. For more information about this known limitation, please refer to [gin-gonic/gin#388](https://github.com/gin-gonic/gin/issues/388) for more information.

A workaround is to manually update the path and handler. Please refer to [gin-gonic/gin/issues/205#issuecomment-296155497](https://github.com/gin-gonic/gin/issues/205#issuecomment-296155497) for more information.